<div class="p-4 sm:ml-64">
		
    <div class="w-full px-4 md:px-0 md:mt-8 mb-16 text-gray-800 leading-normal">
        
        <!--Console Content-->
        
        <div class="flex flex-wrap">
            <div class="w-full md:w-1/2 xl:w-1/3 p-3">
                <!--Metric Card-->
                <div class="border border-gray-800 rounded shadow p-2">
                    <div class="flex flex-row items-center">
                        <div class="flex-shrink pr-4">
                            <div class="rounded p-3 bg-green-600"><i class="fa fa-wallet fa-2x fa-fw fa-inverse"></i></div>
                        </div>
                        <div class="flex-1 text-right md:text-center">
                            <h5 class="font-bold uppercase text-gray-400">Total Revenue</h5>
                            <h3 class="font-bold text-3xl text-gray-600">$3249 <span class="text-green-500"><i class="fas fa-caret-up"></i></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
            </div>
            <div class="w-full md:w-1/2 xl:w-1/3 p-3">
                <!--Metric Card-->
                <div class=" border border-gray-800 rounded shadow p-2">
                    <div class="flex flex-row items-center">
                        <div class="flex-shrink pr-4">
                            <div class="rounded p-3 bg-pink-600"><i class="fas fa-users fa-2x fa-fw fa-inverse"></i></div>
                        </div>
                        <div class="flex-1 text-right md:text-center">
                            <h5 class="font-bold uppercase text-gray-400">Total Users</h5>
                            <h3 class="font-bold text-3xl text-gray-600">249 <span class="text-pink-500"><i class="fas fa-exchange-alt"></i></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
            </div>
            <div class="w-full md:w-1/2 xl:w-1/3 p-3">
                <!--Metric Card-->
                <div class=" border border-gray-800 rounded shadow p-2">
                    <div class="flex flex-row items-center">
                        <div class="flex-shrink pr-4">
                            <div class="rounded p-3 bg-yellow-600"><i class="fas fa-user-plus fa-2x fa-fw fa-inverse"></i></div>
                        </div>
                        <div class="flex-1 text-right md:text-center">
                            <h5 class="font-bold uppercase text-gray-400">New Users</h5>
                            <h3 class="font-bold text-3xl text-gray-600">2 <span class="text-yellow-600"><i class="fas fa-caret-up"></i></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
            </div>
            <div class="w-full md:w-1/2 xl:w-1/3 p-3">
                <!--Metric Card-->
                <div class=" border border-gray-800 rounded shadow p-2">
                    <div class="flex flex-row items-center">
                        <div class="flex-shrink pr-4">
                            <div class="rounded p-3 bg-blue-600"><i class="fas fa-server fa-2x fa-fw fa-inverse"></i></div>
                        </div>
                        <div class="flex-1 text-right md:text-center">
                            <h5 class="font-bold uppercase text-gray-400">Server Uptime</h5>
                            <h3 class="font-bold text-3xl text-gray-600">152 days</h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
            </div>
            <div class="w-full md:w-1/2 xl:w-1/3 p-3">
                <!--Metric Card-->
                <div class=" border border-gray-800 rounded shadow p-2">
                    <div class="flex flex-row items-center">
                        <div class="flex-shrink pr-4">
                            <div class="rounded p-3 bg-indigo-600"><i class="fas fa-tasks fa-2x fa-fw fa-inverse"></i></div>
                        </div>
                        <div class="flex-1 text-right md:text-center">
                            <h5 class="font-bold uppercase text-gray-400">To Do List</h5>
                            <h3 class="font-bold text-3xl text-gray-600">7 tasks</h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
            </div>
            <div class="w-full md:w-1/2 xl:w-1/3 p-3">
                <!--Metric Card-->
                <div class=" border border-gray-800 rounded shadow p-2">
                    <div class="flex flex-row items-center">
                        <div class="flex-shrink pr-4">
                            <div class="rounded p-3 bg-red-600"><i class="fas fa-inbox fa-2x fa-fw fa-inverse"></i></div>
                        </div>
                        <div class="flex-1 text-right md:text-center">
                            <h5 class="font-bold uppercase text-gray-400">Issues</h5>
                            <h3 class="font-bold text-3xl text-gray-600">3 <span class="text-red-500"><i class="fas fa-caret-up"></i></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
            </div>
        </div>

        <!--Divider-->


        <div class="flex flex-row flex-wrap flex-grow mt-2">

            <div id="container" class="w-full md:w-1/2 p-3">
                <!--Graph Card-->
                <!--poner grafico-->
                <!--/Graph Card-->
                <div class="bg-white rounded-lg shadow-md p-4 h-full border border-gray-200">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">Variación de Parámetros</h2>
                    <div id="heatmap-container" class="h-96 w-full"></div>
                </div>
                
            </div>

            <div class="w-full md:w-1/2 h-full p-3">
                <!--Graph Card-->
                <!--poner grafico-->
                <!--/Graph Card-->
                <div class="bg-white rounded-lg shadow-md p-4 h-full border border-gray-200">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">Distribución Promedio</h2>
                    <div id="pie-container" class="h-96 w-full"></div>
                </div>
            </div>

            <div class="w-full md:w-1/2 xl:w-1/2 p-3">
                <!--Graph Card-->
                <!--poner grafico-->
                <!--/Graph Card-->
                <div class="bg-white rounded-lg shadow-md p-4 h-full border border-gray-200">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">Temperatura del Aire</h2>
                    <div id="line-container" class="h-80 w-full"></div>
                </div>
            </div>

            <div class="w-full md:w-1/2 xl:w-1/2 p-3">
                <!--Graph Card-->
                <!--poner grafico-->
                <!--/Graph Card-->
                <div class="bg-white rounded-lg shadow-md p-4 h-full border border-gray-200">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">Niveles de Humedad</h2>
                    <div id="bar-container" class="h-80 w-full"></div>
                </div>
            </div>
            <div class="w-full p-3">
                <!--Table Card-->
                

<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full text-sm rtl:text-right text-gray-500 dark:text-gray-400 text-center">

        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">
                    dispositivo
                </th>
                <th scope="col" class="px-6 py-3">
                    Temperatura del aire
                </th>
                <th scope="col" class="px-6 py-3">
                    humedad
                </th>
                <th scope="col" class="px-6 py-3">
                    luminosidad
                </th>
                <th scope="col" class="px-6 py-3">
                    tds
                </th>
                <th scope="col" class="px-6 py-3">
                    ph
                </th>
                <th scope="col" class="px-6 py-3">
                    temperatura del agua
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach ($datos as $dato)
    
            <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600">
                <td class="px-6 py-4">{{ $dato->device}}</td>
                <td class="px-6 py-4">{{ $dato->temp_air}}</td>
                <td class="px-6 py-4">{{ $dato->humidity}}</td>
                <td class="px-6 py-4">{{ $dato->light}}</td>
                <td class="px-6 py-4">{{ $dato->tds}}</td>
                <td class="px-6 py-4">{{ $dato->ph}}</td>
                <td class="px-6 py-4">{{ $dato->temp_water}}</td>  
            </tr>  
            @endforeach

        </tbody>
    </table>
    <div class="mt-2">
        {{$datos->links("vendor.pagination.simple-tailwind")}}
    </div>
   
</div>




                <!--/table Card-->
            </div>


        </div>
                            
        <!--/ Console Content-->
                
    </div>
    

</div> 
<script>
    document.addEventListener('DOMContentLoaded', function() {
       // Datos simulados basados en tu estructura Laravel
       const sensorData = [
           @foreach($datos as $dato)
           {
               device: "{{ $dato->device }}",
               temp_air: {{ $dato->temp_air }},
               humidity: {{ $dato->humidity }},
               light: {{ $dato->light }},
               tds: {{ $dato->tds }},
               ph: {{ $dato->ph }},
               temp_water: {{ $dato->temp_water }},
               created_at: "{{ $dato->created_at }}"
           },
           @endforeach
       ];
   
       // 1. HeatMap
       function createHeatMap() {
           let heatmapData = sensorData.map((item, index) => {
               const day = new Date(item.created_at).toLocaleDateString('es', { weekday: 'short' });
               console.log(day)
               return [
                   { x: day, y: "Temp Aire", value: item.temp_air },
                   { x: day, y: "Humedad", value: item.humidity },
                   { x: day, y: "Luz", value: item.light },
                   { x: day, y: "TDS", value: item.tds },
                   { x: day, y: "pH", value: item.ph },
                   { x: day, y: "Temp Agua", value: item.temp_water }
               ];
           }).flat();
   
           const chart = anychart.heatMap(heatmapData);
           chart.title("Variación de Parámetros por Día");
           const materialColors = ["#eafaf1", "#d5f5e3 ", "#abebc6", "#82e0aa", 
                       "#58d68d ", "#2ecc71 "];
           chart.colorScale(anychart.scales.ordinalColor().colors(materialColors));
           chart.labels().enabled(false);
           // Configuración responsive
           chart.listen('chartDraw', function() {
               if (window.innerWidth < 768) {
                   chart.xAxis().labels().rotation(-45);
               }
           });
           
           chart.container('heatmap-container');
           chart.draw();
       }
   
       // 2. Gráfico Circular
       function createCalendarChart() {
            // 1. Procesar datos para el calendario
            const calendarData = sensorData.map(item => {
                // Formatear fecha a YYYY-MM-DD (requerido por AnyChart)
                const date = new Date(item.created_at);
                const dateStr = date.toISOString().split('T')[0];
                
                // Puedes elegir qué métrica mostrar (ej: temperatura)
                return {
                    x: dateStr,
                    value: item.temp_air,  // Cambia a humidity, ph, etc. según necesites
                    tooltip: `Fecha: ${date.toLocaleDateString('es-ES')}\nTemp: ${item.temp_air}°C\nHumedad: ${item.humidity}%`
                };
            });

            // 2. Crear el calendario
            const chart = anychart.calendar(calendarData);
            
            // 3. Configuración básica
            chart.title("Variación Diaria de Temperatura");
            
            // 4. Escala de colores personalizada
            chart.colorScale([
                { value: 10, color: "#E3F2FD" },  // Azul muy claro (frío)
                { value: 20, color: "#64B5F6" },  // Azul
                { value: 25, color: "#FFEE58" },  // Amarillo
                { value: 30, color: "#FFA000" },  // Naranja
                { value: 35, color: "#D32F2F" }   // Rojo (caliente)
            ]);
            
            // 5. Configurar meses y semanas
            chart.months()
                .labels()
                .format(function() {
                    return anychart.format.dateTime(this.date, "MMMM yyyy");
                });
            
            chart.weeks()
                .labels()
                .format(function() {
                    return anychart.format.dateTime(this.date, "d");
                });
            
            // 6. Tooltips avanzados
            chart.tooltip()
                .titleFormat("{%x}")
                .format("{%tooltip}");
            
            // 7. Configuración responsive
            chart.listen('chartDraw', function() {
                if (window.innerWidth < 768) {
                    chart.months().height(50);
                    chart.weeks().height(20);
                } else {
                    chart.months().height(70);
                    chart.weeks().height(30);
                }
            });
            
            // 8. Asignar contenedor y dibujar
            chart.container('pie-container'); // Reutilizamos el mismo contenedor
            chart.draw();
            
            return chart;
        }
   
       // 3. Gráfico de Líneas (Temperatura)
       function createLineChart() {
           const data = sensorData.map(item => {
               return { x: new Date(item.created_at).toLocaleDateString(), value: item.temp_air };
           });
   
           const chart = anychart.line();
           chart.title("Temperatura del Aire (°C)");
           const series = chart.line(data);
           series.name("Temperatura");
           chart.xAxis().labels().rotation(0);
           chart.container('line-container');
           chart.draw();
       }
   
       // 4. Gráfico de Barras (Humedad)
       function createBarChart() {
           const data = sensorData.map(item => {
               return { x: new Date(item.created_at).toLocaleDateString(), value: item.humidity };
           });
   
           const chart = anychart.column(data);
           chart.title("Humedad (%)");
           chart.xAxis().labels().rotation(-45);
           chart.container('bar-container');
           chart.draw();
       }
   
       // Inicializar todos los gráficos
       createHeatMap();
       createCalendarChart()
       createLineChart();
       createBarChart();
   
       // Redibujar gráficos al cambiar tamaño
       window.addEventListener('resize', function() {
           document.querySelectorAll('.anychart-container').forEach(el => {
               el.style.width = '100%';
           });
           anychart.chart('heatmap-container').fitToContainer();
           anychart.chart('pie-container').fitToContainer();
           anychart.chart('line-container').fitToContainer();
           anychart.chart('bar-container').fitToContainer();
       });
   });
   </script>